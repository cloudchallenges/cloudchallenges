---
interface Props {
    checked?: boolean;
    id?: string;
    class?: string;
    ariaLabel?: string;
    [key: string]: unknown;
}

const {
    checked = false,
    id,
    class: className,
    ariaLabel,
    ...rest
} = Astro.props as Props;

const base =
    "inline-flex items-center justify-center rounded-md px-3 py-1 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/50";
const offClasses = "bg-content text-text-default hover:bg-elevated";
const onClasses = "bg-accent text-background font-semibold";

const classes = [base, checked ? onClasses : offClasses, className]
    .filter(Boolean)
    .join(" ");
---

<button
    id={id}
    class={classes}
    role="switch"
    aria-checked={checked}
    aria-label={ariaLabel}
    {...rest}
>
    <slot>{checked ? "On" : "Off"}</slot>
</button>
